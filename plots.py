import matplotlib.pyplot as plt
import pandas as pd

def create_plot():
    plt.title("PyAnsys vs Ansys Data")
    plt.xlabel("Time (seconds)")
    plt.ylabel("Temperature")
    plt.xlim(0, 14400)
    plt.legend(loc="upper left")
    plt.show()

def plot_ansys(): 
    #Linear charging 100-400C
    time = [153.97, 293.97, 433.97, 583.97, 723.97, 873.97, 1014, 1154, 1304, 1444, 1594, 1734, 1874, 2024, 2164, 2314, 2454, 2594, 2744, 2884, 3034, 3174, 3314, 3464, 3604, 3754, 3894, 4034, 4184, 4324, 4474, 4614, 4754, 4904, 5044, 5194, 5334, 5474, 5624, 5764, 5914, 6054, 6194, 6344, 6484, 6634, 6774, 6914, 7064, 7204, 7354, 7494, 7634, 7784, 7924, 8074, 8214, 8354, 8504, 8644, 8794, 8934, 9074, 9224, 9364, 9514, 9654, 9794, 9944, 10084, 10234, 10374, 10514, 10664, 10804, 10954, 11094, 11234, 11384, 11524, 11674, 11814, 11954, 12104, 12244, 12394, 12534, 12674, 12824, 12964, 13114, 13254, 13394, 13544, 13684, 13834, 13974, 14114, 14264, 14400]
    inner_temps = [103.2077083, 106.124375, 109.0410417, 112.1660417, 115.0827083, 118.2077083, 121.125, 124.0416667, 127.1666667, 130.0833333, 133.2083333, 136.125, 139.0416667, 142.1666667, 145.0833333, 148.2083333, 151.125, 154.0416667, 157.1666667, 160.0833333, 163.2083333, 166.125, 169.0416667, 172.1666667, 175.0833333, 178.2083333, 181.125, 184.0416667, 187.1666667, 190.0833333, 193.2083333, 196.125, 199.0416667, 202.1666667, 205.0833333, 208.2083333, 211.125, 214.0416667, 217.1666667, 220.0833333, 223.2083333, 226.125, 229.0416667, 232.1666667, 235.0833333, 238.2083333, 241.125, 244.0416667, 247.1666667, 250.0833333, 253.2083333, 256.125, 259.0416667, 262.1666667, 265.0833333, 268.2083333, 271.125, 274.0416667, 277.1666667, 280.0833333, 283.2083333, 286.125, 289.0416667, 292.1666667, 295.0833333, 298.2083333, 301.125, 304.0416667, 307.1666667, 310.0833333, 313.2083333, 316.125, 319.0416667, 322.1666667, 325.0833333, 328.2083333, 331.125, 334.0416667, 337.1666667, 340.0833333, 343.2083333, 346.125, 349.0416667, 352.1666667, 355.0833333, 358.2083333, 361.125, 364.0416667, 367.1666667, 370.0833333, 373.2083333, 376.125, 379.0416667, 382.1666667, 385.0833333, 388.2083333, 391.125, 394.0416667, 397.1666667, 400]
    outer_temps = [100, 100, 100, 100.01, 100.04, 100.1, 100.18, 100.31, 100.49, 100.7, 100.99, 101.3, 101.66, 102.09, 102.55, 103.09, 103.64, 104.23, 104.92, 105.6, 106.37, 107.13, 107.94, 108.84, 109.73, 110.72, 111.68, 112.69, 113.8, 114.88, 116.05, 117.17, 118.32, 119.58, 120.79, 122.11, 123.38, 124.68, 126.1, 127.45, 128.94, 130.35, 131.79, 133.37, 134.86, 136.45, 137.94, 139.45, 141.09, 142.65, 144.34, 145.93, 147.55, 149.31, 150.97, 152.78, 154.48, 156.21, 158.09, 159.86, 161.71, 163.44, 165.19, 167.08, 168.85, 170.77, 172.58, 174.41, 176.39, 178.25, 180.26, 182.16, 184.07, 186.14, 188.08, 190.12, 192, 193.89, 195.94, 197.86, 199.93, 201.88, 203.84, 205.96, 207.95, 210.1, 212.12, 214.15, 216.34, 218.4, 220.57, 222.57, 224.58, 226.75, 228.79, 230.98, 233.03, 235.1, 237.33, 239.36]
    plt.plot(time, inner_temps, label="Ansys (inner)")
    plt.plot(time, outer_temps, label="Ansys (outer)")

def plot_pyansys(df):
    time = df['Time (s)'].tolist()
    inner_temps = df['Inner Temp (°C)'].tolist()
    outer_temps = df['Outer Temp (°C)'].tolist()
    plt.plot(time, inner_temps, label="PyAnsys (inner)", linestyle = 'dashed', linewidth = '3')
    plt.plot(time, outer_temps, label="PyAnsys (outer)", linestyle = 'dashed')

def error_plot(df):
    pyansys_outer_temps = df['Outer Temp (°C)'].tolist()
    ansys_outer_temps = [100, 100, 100, 100.01, 100.04, 100.1, 100.18, 100.31, 100.49, 100.7, 100.99, 101.3, 101.66, 102.09, 102.55, 103.09, 103.64, 104.23, 104.92, 105.6, 106.37, 107.13, 107.94, 108.84, 109.73, 110.72, 111.68, 112.69, 113.8, 114.88, 116.05, 117.17, 118.32, 119.58, 120.79, 122.11, 123.38, 124.68, 126.1, 127.45, 128.94, 130.35, 131.79, 133.37, 134.86, 136.45, 137.94, 139.45, 141.09, 142.65, 144.34, 145.93, 147.55, 149.31, 150.97, 152.78, 154.48, 156.21, 158.09, 159.86, 161.71, 163.44, 165.19, 167.08, 168.85, 170.77, 172.58, 174.41, 176.39, 178.25, 180.26, 182.16, 184.07, 186.14, 188.08, 190.12, 192, 193.89, 195.94, 197.86, 199.93, 201.88, 203.84, 205.96, 207.95, 210.1, 212.12, 214.15, 216.34, 218.4, 220.57, 222.57, 224.58, 226.75, 228.79, 230.98, 233.03, 235.1, 237.33, 239.36]
    error_list = []
    for i in range(len(pyansys_outer_temps) - 1):
        error_list[i] = pyansys_outer_temps[i] - ansys_outer_temps[i]
    print(error_list)

def main():
    df = pd.read_csv('temperature_points.csv')
    error_plot(df)
    plot_pyansys(df)
    plot_ansys()
    create_plot()

if __name__ == "__main__":
    main()